(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){e.exports=a.p+"static/media/donkey.920876bf.jpg"},148:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(40),o=a.n(l),c=(a(97),a(5)),i=a(6),s=a(8),u=a(7),d=a(9),p=a(22),m=a.n(p),E=(a(115),a(116),a(117),a(20)),g=a(25),h=a.n(g),O=a(32),v=a(15),f=a(35),b=a(42),R=a.n(b),I=function(e){return{type:"REDIRECT",route:e}},_=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).loginButton=function(){a.props.clickLogin(),a.props.history.push("/login"),console.log("clicked login")},a.registerButton=function(){a.props.clickRegister(),a.props.history.push("/register"),console.log("clicked register")},a.logoutButton=Object(O.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,localStorage.removeItem("token");case 3:a.props.history.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=localStorage.getItem("token");return console.log(),r.a.createElement("div",{className:"userAuth"},e&&r.a.createElement(R.a,{id:"loginButton",onClick:this.logoutButton},"Logout"),!e&&r.a.createElement(R.a,{id:"loginButton",onClick:this.loginButton},"Login"),!e&&r.a.createElement(R.a,{id:"registerButton",onClick:this.registerButton},"Register"))}}]),t}(n.Component),S={clickLogin:function(){return{type:"CLICKED_LOGIN"}},clickRegister:function(){return{type:"CLICKED_REGISTER"}},logout:function(){return{type:"LOGOUT"}}},N=Object(v.b)(function(e){var t=e.userauthReducer;return{login:t.login,register:t.register,LOGGEDIN:e.loginReducer.LOGGEDIN}},S)(Object(f.f)(_)),L=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.handleSubmit,n=e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"mr-sm-2",onSubmit:a},r.a.createElement("input",{type:"text",name:"search",placeholder:"search by city or zipcode...",className:"form-control",value:t,onChange:n}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{type:"submit",className:"input-group-text bg-primary text-white"},r.a.createElement("i",{className:"fas fa-search"})))))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e){e.preventDefault(),console.log(e.target.search.value)},a.handleChange=function(e){console.log(e.target.search.value)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value;e.handleSubmit,e.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-warning"},r.a.createElement("a",{className:"navbar-brand ml-5",href:"#"},r.a.createElement("h1",null,"Team 06")),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-bars",style:{color:"#fff"}}))),r.a.createElement("ul",{className:"navbar-nav m-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(E.b,{className:"nav-link text-white text-uppercase ml-5",to:"/home"},"Home",r.a.createElement("i",{className:"fas fa-home"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.b,{className:"nav-link text-white text-uppercase ml-5",to:"/post"},"Post"))),r.a.createElement("form",{className:"search",onSubmit:this.handleSearch},r.a.createElement("input",{type:"text",className:"searchInput",name:"search",placeholder:"Search by",value:t,onChange:this.handleChange}),r.a.createElement("button",{type:"submit",className:"searchButton"},"Search",r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement(N,null)))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={data:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;m.a.get("/api/postings").then(function(t){console.log(t.data),e.setState({data:t.data})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return console.log(this.state.data),r.a.createElement("div",null,this.state.data.map(function(e){var t=e.id,a=e.location,n=e.postType;return r.a.createElement("tr",{key:e,className:"row"},r.a.createElement("td",null,r.a.createElement("div",null,r.a.createElement("p",null,t),r.a.createElement("img",{src:"".concat(t)}),r.a.createElement("p",null,a),r.a.createElement("p",null,n))))}))}}]),t}(n.Component),D=a(172),C=a(173),A=function(e){return console.log(e),{type:"UPDATE_DATA",data:e}},j=function(e,t){return{type:"CLICKED_ISSUE_DETAILS",tempObj:{id:e,index:t}}},U=function(e){return{type:"UPDATE_INDEX",index:e}},F=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;this.props.handleDetails;console.log(this.props);var t=this.props.issue,a=t.id,n=t.street,l=t.city,o=t.zipcode,c=t.state,i=t.description,s=t.imageFile,u=t.issueType,d=JSON.parse(s);return console.log(d),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-10 mx-auto col-md-6 col-lg-4 my-3"},r.a.createElement("div",{onClick:function(){return e.props.handleDetails(0,a)}},r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:"/uploads/donkey.jpg",className:"img-card-top",alt:"Issue Image",style:{height:"14rem"}}),r.a.createElement("div",{className:"card-body text-capitalized"},r.a.createElement("h6",null,"Street: ",n),r.a.createElement("h6",null,"City: ",l),r.a.createElement("h6",null,"Zipcode: ",o),r.a.createElement("h6",null,"State: ",c),r.a.createElement("h6",{className:"text-warning text-slanted"},"Issue Type: ",u),r.a.createElement("h6",{className:"text-warning text-slanted"},"Description: ",i))))))}}]),t}(n.Component),w={updateData:A,updateClickedDetails:j,handleIndex:U},G=Object(v.b)(function(e){console.log(e);var t=e.homepageReducer;return{data:t.data,details_id:t.details_id,pageIndex:t.pageIndex}},w)(Object(f.f)(F)),k=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.recipes,e.handleDetails),a=e.value,n=e.handleSubmit,l=e.handleChange,o=(e.error,e.data);return console.log(this.props),console.log(o),r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{value:a,handleChange:l,handleSubmit:n}),r.a.createElement("div",{className:"rwo"}),r.a.createElement("div",{className:"container my-6"},r.a.createElement("div",{className:"row"},o.map(function(e){return r.a.createElement(G,{key:e.recipe_id,issue:e,handleDetails:t})})))))}}]),t}(n.Component),x={updateData:A,updateClickedDetails:j},P=Object(v.b)(function(e){var t=e.homepageReducer;return{data:t.data,details_id:t.details_id,pageIndex:t.pageIndex}},x)(Object(f.f)(k)),M=a(81),z=a.n(M),W=(a(148),function(e){var t=e.color,a=e.name;e.id;return r.a.createElement("div",null,r.a.createElement("div",{className:"pin bounce",style:{backgroundColor:t,cursor:"pointer"},title:a}),r.a.createElement("div",{className:"pulse"}))}),H=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.props.id);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;console.log("line 19");var t=this.props,a=t.id;t.picture,t.postType;return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-warning text-capitalize mb-5",onClick:function(){return e.props.handleIndex(1)}},"back to home page"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10 mx-auto col-md-6 my-3"},r.a.createElement("img",{className:"img-card-top",alt:"recipe",style:{height:"14rem"}})),r.a.createElement("div",{style:{height:"50vh",width:"100%"}},r.a.createElement(z.a,{bootstrapURLKeys:{key:"AIzaSyBUHdcZt1CDRo9chaTXDHda-Wkj4HFh7yE"},defaultCenter:{lat:37.774929,lng:-122.419416},defaultZoom:11},r.a.createElement(W,{lat:37.774929,lng:-122.419416,name:"My Marker",color:"red"}))),r.a.createElement("div",{className:"card-body text-capitalized"},r.a.createElement("h6",null,"id: ",a),r.a.createElement("h6",null,"other details goes here"))))))}}]),t}(n.Component);H.defaultProps={location:{lat:37.774929,lng:-122.419416},zoom:11};var B={updateData:A,updateClickedDetails:j,handleIndex:U},V=Object(v.b)(function(e){console.log(e);var t=e.homepageReducer;return{data:t.data,details_id:t.details_id,pageIndex:t.pageIndex}},B)(Object(f.f)(H)),X=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],details_id:35382,pageIndex:1,search:""},a.displayPage=function(e){switch(console.log(e),e){case 0:return r.a.createElement(V,{id:a.props.details_id});case 1:return console.log("case1"),r.a.createElement(P,{issue:a.props.data,handleDetails:a.handleDetails,value:a.state.search,handleChange:a.handleChange,handleSubmit:a.handleSubmit,error:a.state.error})}},a.handleIndex=function(e){a.props.handleIndex(e)},a.handleDetails=function(e,t){a.props.updateClickedDetails(t,e)},a.handleChange=function(e){a.setState({search:e.target.value},function(){console.log(a.state.search)})},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.data,r=t.search,l=n.filter(function(e){return e.postType.toLowerCase().includes(r.toLowerCase())});console.log(l),a.setState(function(){return{data:l,search:r}})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"getProduct",value:function(){var e=Object(O.a)(h.a.mark(function e(){var t=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/api/postings").then(function(e){console.log(e.data);var a=e.data;console.log(a),t.props.updateData(a)});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;m.a.get("/api/postings").then(function(t){console.log(t.data);var a=t.data;console.log(a),e.props.updateData(a)})}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement(D.a,{className:"mt-2"},r.a.createElement(C.a,null,r.a.createElement("div",{className:"container my-6"}),r.a.createElement(r.a.Fragment,null,this.displayPage(this.props.pageIndex)))))}}]),t}(n.Component),Y={updateData:A,updateClickedDetails:j,handleIndex:U},K=Object(v.b)(function(e){console.log(e);var t=e.homepageReducer;return{data:t.data,details_id:t.details_id,pageIndex:t.pageIndex}},Y)(Object(f.f)(X)),Z=(a(75),a(41)),J=a(174),q=a(176),$=a(34),Q=a(83),ee=a(84),te=(a(76),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onFileLoad",value:function(e){var t=this,a=e.currentTarget.files[0];console.log(a);var n=new FileReader;this.props.onFileLoad(a),n.onload=function(){console.log(n.result);var e={data:n.result,isUploading:!1};t.addLoadedFile(e)},n.onabort=function(){alert("Reading Aborted")},n.onerror=function(){alert("Reading ERROR!")},n.readAsDataURL(a)}},{key:"addLoadedFile",value:function(e){this.props.addLoadedFile(e)}},{key:"removeLoadedFile",value:function(e){this.props.removeAllLoadedFile()}},{key:"render",value:function(){var e=this,t=this.props.loadedFiles;return console.log(t),r.a.createElement("div",{className:"inner-container",style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{className:"sub-header"},"Drag an Image"),r.a.createElement("div",{className:"draggable-container"},r.a.createElement("input",{type:"file",id:"file-browser-input",name:"file-browser-input",ref:function(t){return e.fileInput=t},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDrop:this.onFileLoad.bind(this),onChange:this.onFileLoad.bind(this)}),r.a.createElement("div",{className:"files-preview-container ip-scrollbar"},t.map(function(t,a){return r.a.createElement("div",{className:"file",key:a},r.a.createElement("img",{src:t.data}),r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"progress-bar"},t.isUploading&&r.a.createElement(J.a,null)),r.a.createElement("span",{className:"remove-btn",onClick:function(){return e.removeLoadedFile(t)}},r.a.createElement(Q.Icon,{icon:ee.remove,size:19}))))})),r.a.createElement("div",{className:"helper-text"},"Drag and Drop Images Here"),r.a.createElement("div",{className:"file-browser-container"},r.a.createElement(q.a,{text:"Browse",intent:$.a.PRIMARY,minimal:!0,onClick:function(){return e.fileInput.click()}}))))}}]),t}(n.Component)),ae={addLoadedFile:function(e){return{type:"ADD_TO_IMAGE_LIST",imageToAdd:e}},removeAllLoadedFile:function(){return{type:"REMOVE_ALL"}},onFileLoad:function(e){return{type:"LOAD_IMAGE",newImage:e}}},ne=Object(v.b)(function(e){var t=e.postReducer;return{fd:t.fd,file:t.file,imageFile:t.imageFile,loadedFiles:t.loadedFiles}},ae)(Object(f.f)(te)),re=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getLocation=Object(O.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},a.props.isLoading(),e.next=4,navigator.geolocation.getCurrentPosition(a.success,a.error,t);case 4:case"end":return e.stop()}},e)})),a.success=function(e){var t=e.coords;a.props.setGeoLocation(t),a.props.doneLoading()},a.error=function(e){a.props.errGetLocation(),console.warn("ERROR(".concat(e.code,"): ").concat(e.message))},a.handleSubmit=function(e){e.preventDefault();var t=localStorage.getItem("token");if(void 0==t||""==t)a.props.needsToLogin(),a.props.history.push("/login");else{console.log(a.props);var n=a.props,r=n.latitude,l=n.longitude,o=n.imageFile,c=n.zipcode,i=n.street,s=n.city,u=n.issueType,d=n.state,p=n.description;console.log(r,l),console.log(o);var E=localStorage.getItem("username"),g=localStorage.getItem("user_id"),h=new FormData;h.append("imageFile",o),h.append("latitude",r),h.append("longitude",l),h.append("street",i),h.append("city",s),h.append("state",d),h.append("zipcode",c),h.append("issueType",u),h.append("username",E),h.append("description",p),h.append("user_id",g),m()({method:"post",url:"/api/postings",data:h,config:{headers:{"Content-Type":"multipart/form-data"}}}).then(function(e){console.log(e),"SUCCESS"==e.data&&a.props.history.push("/home")}).catch(function(e){console.log(e)})}},a.handleChangeInput=function(e){console.log(e.target.value);var t=Object(Z.a)({},e.target.name,e.target.value);console.log(t),a.props.updateForm(t)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.issueType,a=e.longitude,n=e.latitude,l=e.street,o=e.city,c=e.state,i=e.zipcode,s=e.locationError,u=e.geoLocationIsLoading;return r.a.createElement("div",null,r.a.createElement("div",{className:"ui form segment text-center",onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement("h3",{className:"text-center text-info"},"Post Any Issue"),r.a.createElement("br",null),r.a.createElement("div",{className:"two fields"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"name"},"Select Type of Issue..."),r.a.createElement("br",null),r.a.createElement("select",{name:"issueType",value:t,onChange:this.handleChangeInput},r.a.createElement("option",{name:"",value:""}),r.a.createElement("option",{name:"Air",value:"Air"},"Air"),r.a.createElement("option",{value:"Water"},"Water"),r.a.createElement("option",{value:"Garbage"},"Garbage"),r.a.createElement("option",{value:"Hazardous Waste"},"Hazardous Waste"),r.a.createElement("option",{value:"Natural Hazard"},"Natural Hazard"),r.a.createElement("option",{value:"Other"},"Other")))),r.a.createElement("div",{className:"two fields"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"name"},"Street"),r.a.createElement("br",null),r.a.createElement("input",{placeholder:"Enter Street Name...",name:"street",value:l,type:"text",onChange:this.handleChangeInput,noValidate:!0}))),r.a.createElement("div",{className:"two fields"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"name"},"City"),r.a.createElement("br",null),r.a.createElement("input",{placeholder:"Enter City...",name:"city",type:"text",value:o,onChange:this.handleChangeInput,noValidate:!0}))),r.a.createElement("div",{className:"two fields"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"name"},"State"),r.a.createElement("br",null),r.a.createElement("input",{placeholder:"Enter State...",name:"state",type:"text",value:c,onChange:this.handleChangeInput,noValidate:!0}))),r.a.createElement("div",{className:"two fields"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"name"},"ZipCode"),r.a.createElement("br",null),r.a.createElement("input",{placeholder:"Enter Zipcode...",name:"zipcode",type:"text",value:i,onChange:this.handleChangeInput,noValidate:!0}))),r.a.createElement("br",null),r.a.createElement("div",{className:"two fields"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"name"},"Location"),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.getLocation}," Add location"),r.a.createElement("br",null),""!=s&&"there was an error getting your location",r.a.createElement("br",null),u&&"Getting location...",r.a.createElement("br",null),"Longitude: ",""!=a&&a,r.a.createElement("br",null),"Latitude: ",""!=n&&n)),r.a.createElement("br",null),r.a.createElement(ne,null),r.a.createElement("br",null),"Description",r.a.createElement("br",null),r.a.createElement("textarea",{name:"description",onChange:this.handleChangeInput}),r.a.createElement("br",null),r.a.createElement("button",{className:"submit button",onClick:this.handleSubmit},"Submit Issue")))}}]),t}(n.Component),le={updateForm:function(e){return{type:"UPDATE_FORM",fieldToChange:e}},setGeoLocation:function(e){return{type:"UPDATE_GEOLOCATION",location:e}},errGetLocation:function(){return{type:"ERR_GET_LOCATION"}},resetReducer:function(){return{type:"RESET_REDUCER"}},isLoading:function(){return{type:"GEO_LOCATION_LOADING"}},doneLoading:function(){return{type:"GEO_LOCATION_DONE_LOADING"}},needsToLogin:function(){return{type:"TRIED_POSTING_ISSUE"}}},oe=Object(v.b)(function(e){var t=e.postReducer;return{postStatus:t.postStatus,location:t.location,postType:t.postType,latitude:t.latitude,longitude:t.longitude,street:t.street,city:t.city,state:t.state,zipcode:t.zipcode,issueType:t.issueType,description:t.description,imageFile:t.imageFile,locationError:t.locationError,geoLocationIsLoading:t.geoLocationIsLoading}},le)(Object(f.f)(re)),ce=a(175),ie=a(85),se=a(177),ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),e.stopPropagation(),console.log(e.target.children[0]);var t=e.target.children[0].children[0].children[1].value,n=e.target.children[0].children[1].children[1].value,r={username:t,password:n};console.log(r),m.a.post("/userauth/login",r).then(function(e){console.log(e),console.log(a.props.ROUTE);var n=e.data.message;if("LOGIN_SUCCESS"===n){a.props.validateStatus({USER_NOT_FOUND:!1,validated:!0,LOGGEDIN:!0,INCORRECT_USERNAME_OR_PASSWORD:!1}),a.props.finishedLoggingIn(),localStorage.setItem("token",e.data.token),localStorage.setItem("user_id",e.data.result[0].id),localStorage.setItem("username",t);var r="";a.props.history.length;"/register"==a.props.ROUTE?(a.props.reRouteAfterCompleteLogin("/"),r="/",console.log(r),a.props.history.push(r)):a.props.history.goBack()}else if("USER_NOT_FOUND"===n){a.props.validateStatus({USER_NOT_FOUND:!0,validated:!1,LOGGEDIN:!1,INCORRECT_USERNAME_OR_PASSWORD:!1})}else if("INCORRECT_USERNAME_OR_PASSWORD"===n){a.props.validateStatus({USER_NOT_FOUND:!1,validated:!1,LOGGEDIN:!1,INCORRECT_USERNAME_OR_PASSWORD:!0})}}).catch(function(e){console.log(e)})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log(this.props.location),console.log(e.location),e.location!==this.props.location&&console.log("line 94")}},{key:"componentDidMount",value:function(){console.log("hi"),console.log(this.props.ROUTE);this.props.ROUTE}},{key:"render",value:function(){var e=this,t=this.props,a=t.validated,n=(t.LOGGEDIN,t.INCORRECT_USERNAME_OR_PASSWORD),l=t.USER_NOT_FOUND,o=t.TRIED_POSTING_ISSUE;return r.a.createElement("div",null,1==o&&"Please Login Before Posting Item",r.a.createElement(ce.a,{noValidate:!0,validated:a,onSubmit:function(t){return e.handleSubmit(t)},className:"LoginForm"},r.a.createElement(ce.a.Row,null,r.a.createElement(ce.a.Group,{as:ie.a,md:"8",controlId:"username"},r.a.createElement(ce.a.Label,null,"Username"),r.a.createElement(ce.a.Control,{type:"text",placeholder:"User Name"})),r.a.createElement(ce.a.Group,{as:ie.a,md:"8",controlId:"password"},r.a.createElement(ce.a.Label,null,"Password"),r.a.createElement(ce.a.Control,{type:"password",placeholder:"Password"}))),n&&r.a.createElement("p",{className:"errorHandler"},"Incorrect Username or Password"),l&&r.a.createElement("p",{className:"errorHandler"},"User not found"),r.a.createElement(se.a,{type:"submit"},"Login")))}}]),t}(n.Component),de={validateStatus:function(e){return{type:"VALIDATE",validate:e}},finishedLoggingIn:function(){return{type:"FINISHED_LOGGING_IN_AFTER_TRYING_TO_POST"}},reRouteAfterCompleteLogin:I},pe=Object(v.b)(function(e){var t=e.loginReducer,a=t.username,n=t.password,r=t.validated,l=t.LOGGEDIN,o=t.USER_NOT_FOUND,c=t.INCORRECT_USERNAME_OR_PASSWORD,i=t.REDIRECT,s=t.ROUTE,u=e.postReducer.TRIED_POSTING_ISSUE;return console.log(u),console.log(e.loginReducer),console.log(e.registerReducer),console.log(e),{username:a,password:n,validated:r,LOGGEDIN:l,USER_NOT_FOUND:o,INCORRECT_USERNAME_OR_PASSWORD:c,REDIRECT:i,ROUTE:s,TRIED_POSTING_ISSUE:u}},de)(Object(f.f)(ue)),me=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){localStorage.getItem("token");return r.a.createElement("div",null,r.a.createElement(oe,null))}}]),t}(n.Component),Ee=a(14),ge=a.n(Ee),he=a(38),Oe=a.n(he),ve=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.reRouteAfterCompleteLogin("/register"),console.log(a.props.ROUTE)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();var a=e.target.children[0].children[0].children[1].value,n=e.target.children[0].children[1].children[1].value,r=e.target.children[0].children[2].children[1].value,l=e.target.children[0].children[3].children[1].value,o=e.target.children[0].children[4].children[1].value;if(l.includes(" ")||a.includes(" ")||r.includes(" ")||n.includes(" ")){return this.props.validate({validated:!1,registered:!1,USER_ALREADY_EXISTS:!1,FORM_NOT_FULLFILLED:!1,SPACE_IN_USERNAME:!0}),0}var c=a.split(" "),i=n.split(" "),s=r.split(" "),u=l.split(" "),d=o.split(" ");if(""===c[0]||""===i[0]||""===s[0]||""===u[0]||""===d[0])console.log(d),this.props.formNotFullfilled();else{var p={firstname:a,lastname:n,email:r,username:l,password:o};m.a.post("/userauth/register",p).then(function(e){var a=e.data.message;if(console.log(e),"REGISTER_SUCCESS"===a){t.props.registered();t.props.history.push("/login")}else"USER_ALREADY_EXISTS"===a?(console.log("user already exists"),t.props.userAlreadyExists()):"ERR_NO_PASSWORD"===a&&console.log("handle no password error")}).catch(function(e){console.log(e.message)})}}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.props,a=t.validated,n=(t.isRegistered,t.USER_ALREADY_EXISTS),l=t.FORM_NOT_FULLFILLED,o=t.SPACE_IN_USERNAME;return r.a.createElement("div",null,r.a.createElement(ge.a,{noValidate:!0,validated:a,onSubmit:function(t){return e.handleSubmit(t)},className:"RegisterForm"},r.a.createElement(ge.a.Row,null,r.a.createElement(ge.a.Group,{as:Oe.a,md:"4",controlId:"firstName"},r.a.createElement(ge.a.Label,null,"First name"),r.a.createElement(ge.a.Control,{required:!0,type:"text",placeholder:"First name",defaultValue:"Mark"}),r.a.createElement(ge.a.Control.Feedback,null,"Looks good!")),r.a.createElement(ge.a.Group,{as:Oe.a,md:"4",controlId:"lastName"},r.a.createElement(ge.a.Label,null,"Last name"),r.a.createElement(ge.a.Control,{required:!0,type:"text",placeholder:"Last name",defaultValue:"Otto"}),r.a.createElement(ge.a.Control.Feedback,null,"Looks good!")),r.a.createElement(ge.a.Group,{as:Oe.a,md:"8",controlId:"email"},r.a.createElement(ge.a.Label,null,"Email"),r.a.createElement(ge.a.Control,{type:"text",placeholder:"Email"}),r.a.createElement(ge.a.Control.Feedback,null,"Looks good!")),r.a.createElement(ge.a.Group,{as:Oe.a,md:"8",controlId:"username"},r.a.createElement(ge.a.Label,null,"Username"),r.a.createElement(ge.a.Control,{type:"text",placeholder:"User Name"}),n&&r.a.createElement("p",{className:"errorHandler"},"User already exists")),r.a.createElement(ge.a.Group,{as:Oe.a,md:"8",controlId:"password"},r.a.createElement(ge.a.Label,null,"Password"),r.a.createElement(ge.a.Control,{type:"password",placeholder:"Password"}))),l&&r.a.createElement("p",{className:"errorHandler"},"Please fill out form"),o&&r.a.createElement("p",{className:"errorHandler"},"No spaces are allowed as characters"),r.a.createElement(R.a,{type:"submit"},"Register")))}}]),t}(n.Component),fe={validate:function(e){return{type:"REGISTER_VALIDATE",validate:e}},formNotFullfilled:function(){return{type:"FORM_NOT_FULLFILLED"}},registered:function(){return{type:"REGISTERED"}},userAlreadyExists:function(){return{type:"USER_ALREADY_EXISTS"}},reRouteAfterCompleteLogin:I},be=Object(v.b)(function(e){var t=e.registerReducer,a=t.username,n=t.password,r=t.validated,l=t.isRegistered,o=t.USER_ALREADY_EXISTS,c=t.FORM_NOT_FULLFILLED,i=t.SPACE_IN_USERNAME,s=e.loginReducer.ROUTE;return console.log(e),{username:a,password:n,validated:r,isRegistered:l,USER_ALREADY_EXISTS:o,FORM_NOT_FULLFILLED:c,SPACE_IN_USERNAME:i,ROUTE:s}},fe)(ve),Re=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E.a,null,r.a.createElement(y,null),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/home",component:K}),r.a.createElement(f.a,{exact:!0,path:"/post",component:me}),r.a.createElement(f.a,{exact:!0,path:"/showPostings",component:T}),r.a.createElement(f.a,{exact:!0,path:"/login",component:pe}),r.a.createElement(f.a,{exact:!0,path:"/register",component:be}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ie=a(47),_e=a(11),Se={username:"",password:"",validated:!1,LOGGEDIN:!1,USER_NOT_FOUND:!1,INCORRECT_USERNAME_OR_PASSWORD:!1,ROUTE:""},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VALIDATE":var a=t.validate,n=a.validated,r=a.LOGGEDIN,l=a.USER_NOT_FOUND,o=a.INCORRECT_USERNAME_OR_PASSWORD;return Object(_e.a)({},e,{validated:n,LOGGEDIN:r,USER_NOT_FOUND:l,INCORRECT_USERNAME_OR_PASSWORD:o});case"REDIRECT":var c=t.route;return console.log(c),Object(_e.a)({},e,{ROUTE:c});case"LOGGOUT":return Object(_e.a)({},e,{LOGGEDIN:!1});default:return e}},Le={username:"",password:"",validated:!1,isRegistered:!1,USER_ALREADY_EXISTS:!1,FORM_NOT_FULLFILLED:!1,SPACE_IN_USERNAME:!1},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_VALIDATE":var a=t.validate,n=a.validated,r=a.isRegistered,l=a.USER_ALREADY_EXISTS,o=a.FORM_NOT_FULLFILLED,c=a.SPACE_IN_USERNAME;return Object(_e.a)({},e,{validated:n,isRegistered:r,USER_ALREADY_EXISTS:l,FORM_NOT_FULLFILLED:o,SPACE_IN_USERNAME:c});case"FORM_NOT_FULLFILLED":return Object(_e.a)({},e,{FORM_NOT_FULLFILLED:!0});case"REGISTERED":return Object(_e.a)({},e,{isRegistered:!0,validated:!0});case"USER_ALREADY_EXISTS":return Object(_e.a)({},e,{USER_ALREADY_EXISTS:!0,FORM_NOT_FULLFILLED:!1});default:return e}},Te={login:!1,register:!1},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;switch((arguments.length>1?arguments[1]:void 0).type){case"CLICKED_LOGIN":return{login:!0,register:!1};case"CLICKED_REGISTER":return{login:!1,register:!0};default:return e}},Ce=a(51),Ae={postStatus:"",location:"",postType:"",loadedFiles:[],fd:"",file:"",latitude:"",longitude:"",street:"",city:"",state:"",zipcode:"",issueType:"",description:"",imageFile:"",locationError:!1,geoLocationIsLoading:!1,TRIED_POSTING_ISSUE:!1},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FORM":var a=t.fieldToChange,n="",r="";for(var l in console.log(n),console.log(r),console.log(a),a)n=l,r=a[l];return Object(_e.a)({},e,Object(Z.a)({},n,r));case"LOAD_IMAGE":var o=t.newImage;return Object(_e.a)({},e,{imageFile:o});case"UPDATE_GEOLOCATION":var c=t.location,i=c.latitude,s=c.longitude;return Object(_e.a)({},e,{latitude:i,longitude:s});case"ADD_TO_IMAGE_LIST":var u=t.imageToAdd;return Object(_e.a)({},e,{loadedFiles:[].concat(Object(Ce.a)(e.loadedFiles),[u])});case"ERR_GET_LOCATION":return Object(_e.a)({},e,{locationError:!0});case"ADD_TO_IMAGE_LIST":return Object(_e.a)({},e,{loadedFiles:[]});case"GEO_LOCATION_LOADING":return Object(_e.a)({},e,{geoLocationIsLoading:!0});case"GEO_LOCATION_DONE_LOADING":return Object(_e.a)({},e,{geoLocationIsLoading:!1});case"TRIED_POSTING_ISSUE":return Object(_e.a)({},e,{TRIED_POSTING_ISSUE:!0});case"FINISHED_LOGGING_IN_AFTER_TRYING_TO_POST":return Object(_e.a)({},e,{TRIED_POSTING_ISSUE:!1});case"RESET_REDUCER":return{postStatus:"",location:"",postType:"",loadedFiles:[],fd:"",file:"",latitude:"",longitude:"",street:"",city:"",state:"",zipcode:"",issueType:"",description:"",imageFile:"",locationError:"",geoLocationIsLoading:!1};default:return e}},Ue={data:[],pageIndex:1,search:"",details_id:""},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_DATA":console.log(t);var a=t.data;return console.log(a),console.log(e.data),Object(_e.a)({},e,{data:Object(Ce.a)(a)});case"CLICKED_ISSUE_DETAILS":var n=t.tempObj,r=n.id,l=n.index;return console.log(r,l),Object(_e.a)({},e,{details_id:r,pageIndex:l});case"UPDATE_INDEX":return Object(_e.a)({},e,{pageIndex:l});default:return e}},we=Object(Ie.b)({loginReducer:Ne,registerReducer:ye,userauthReducer:De,postReducer:je,homepageReducer:Fe}),Ge=Object(Ie.c)(we);o.a.render(r.a.createElement(v.a,{store:Ge},r.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},76:function(e,t,a){},92:function(e,t,a){e.exports=a(168)},97:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.abfb4c61.chunk.js.map