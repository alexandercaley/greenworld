(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(25),o=a.n(r),c=(a(67),a(3)),s=a(4),i=a(7),u=a(5),m=a(8),d=a(23),E=a.n(d),p=(a(86),a(37)),h=a.n(p),O=(a(87),a(12)),g=a(26),v=a(27),b=a(35),f=a.n(b),S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).loginButton=function(){a.props.clickLogin(),console.log("clicked login")},a.registerButton=function(){a.props.clickRegister(),console.log("clicked register")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.login)}},{key:"render",value:function(){var e=this.props,t=e.login,a=e.register;return console.log(t),l.a.createElement("div",{className:"userAuth"},t&&l.a.createElement(O.b,{to:"/login"})||l.a.createElement(f.a,{id:"loginButton",onClick:this.loginButton},"Login",l.a.createElement(O.b,{to:"/login"})),a||l.a.createElement(f.a,{id:"registerButton",onClick:this.registerButton},"Register"))}}]),t}(n.Component),R={clickLogin:function(){return{type:"CLICKED_LOGIN"}},clickRegister:function(){return{type:"CLICKED_REGISTER"}}},N=Object(g.b)(function(e){var t=e.userauthReducer;return{login:t.login,register:t.register}},R)(Object(v.f)(S)),_=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-warning"},l.a.createElement("a",{className:"navbar-brand ml-5",href:"#"},l.a.createElement("h1",null,"Team 06")),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-bars",style:{color:"#fff"}}))),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav m-auto"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement(O.b,{className:"nav-link text-white text-uppercase ml-5",to:"/home"},"Home",l.a.createElement("i",{className:"fas fa-home"}))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(O.b,{className:"nav-link text-white text-uppercase ml-5",to:"/news"},"news")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(O.b,{className:"nav-link text-white text-uppercase ml-5",to:"/aboutUs"},"About Us")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(O.b,{className:"nav-link text-white text-uppercase ml-5",to:"/post"},"Post")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(O.b,{className:"nav-link text-white text-uppercase ml-5",to:"/category"},"Category"))," ",l.a.createElement("li",{className:"nav-item"},l.a.createElement(O.b,{className:"nav-link text-white text-uppercase ml-5",to:"/login"},"login")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(O.b,{className:"nav-link text-white text-uppercase ml-5",to:"/register"},"register"))),l.a.createElement(N,null)))}}]),t}(l.a.Component),L=a(17),y=a(59),D=a.n(y),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={pictures:[]},a.onDrop=a.onDrop.bind(Object(L.a)(Object(L.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onDrop",value:function(e){this.setState({pictures:this.state.pictures.concat(e)})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(D.a,{withIcon:!0,buttonText:"Upload images",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880}))}}]),t}(l.a.Component),I=(n.Component,function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={data:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.a.get("/api/postings").then(function(t){console.log(t.data),e.setState({data:t.data})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return console.log(this.state.data),l.a.createElement("div",null,this.state.data.map(function(e){var t=e.id,a=e.location;e.postType,e.postStatus,e.picture;return l.a.createElement("tr",{key:e,className:"row"},l.a.createElement("td",null,l.a.createElement("div",null,l.a.createElement("p",null,t),l.a.createElement("img",{src:"".concat(t)}),l.a.createElement("p",null,a))))}))}}]),t}(n.Component)),w=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row mt-5"},"This is a home page"),l.a.createElement("div",null,l.a.createElement("img",{src:h.a,alt:"logo",style:{width:"200px"}})," ",l.a.createElement("img",{src:h.a,alt:"logo",style:{width:"200px"}})," "))}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row mt-5"},"Get your News here"))}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row mt-5"},"About Us"))}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.postStatus,l=t.location,r=t.postType;console.log(n,l,r),E.a.post("/api/postings",{postStatus:n,location:l,postType:r}).then(function(e){console.log("hi")}).catch(function(e){console.log(e)}),console.log()},a.checkPostings=function(){},a.changePostStatus=function(e){var t=e.target.value;a.setState({postStatus:t})},a.changeLocation=function(e){var t=e.target.value;a.setState({location:t})},a.changePostType=function(e){var t=e.target.value;a.setState({postType:t})},a.state={postStatus:"",location:"",postType:""},a.toggle=a.toggle.bind(Object(L.a)(Object(L.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(e){this.setState(function(e){return{modal:!e.modal}})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"ui form segment text-center",onSubmit:this.handleSubmit,noValidate:!0},l.a.createElement("h3",{className:"text-center text-info"},"Post Any Issue"),l.a.createElement("br",null),l.a.createElement("div",{className:"two fields"},l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"name"},"Type Issue"),l.a.createElement("br",null),l.a.createElement("input",{placeholder:"Type Issue",name:"fullname",type:"text",onChange:this.changePostStatus,noValidate:!0}))),l.a.createElement("br",null),l.a.createElement("div",{className:"two fields"},l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"name"},"Location"),l.a.createElement("br",null),l.a.createElement("input",{placeholder:" Location",name:"name",type:"Lacation",onChange:this.changeLocation,noValidate:!0}))),l.a.createElement("br",null),l.a.createElement("div",{className:"two fields"},l.a.createElement("div",{className:"field"},l.a.createElement("label",{htmlFor:"name"},"post type"),l.a.createElement("br",null),l.a.createElement("input",{placeholder:" post staus",name:"post staus",type:"post staus",onChange:this.changePostType,noValidate:!0}))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(O.b,{to:"/showPostings"},"Click Here to check posted items in database"),l.a.createElement(j,null),l.a.createElement("br",null),l.a.createElement("button",{className:"submit button",onClick:this.handleSubmit},"Submit Issue")))}}]),t}(n.Component),T=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={displayMenu:!1},e.showDropdownMenu=e.showDropdownMenu.bind(Object(L.a)(Object(L.a)(e))),e.hideDropdownMenu=e.hideDropdownMenu.bind(Object(L.a)(Object(L.a)(e))),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"showDropdownMenu",value:function(e){var t=this;e.preventDefault(),this.setState({displayMenu:!0},function(){document.addEventListener("click",t.hideDropdownMenu)})}},{key:"hideDropdownMenu",value:function(){var e=this;this.setState({displayMenu:!1},function(){document.removeEventListener("click",e.hideDropdownMenu)})}},{key:"render",value:function(){return l.a.createElement("div",{className:"dropdown",style:{background:"red",width:"150px"}},l.a.createElement("div",{className:"button",onClick:this.showDropdownMenu}," ","Item Category ^"),this.state.displayMenu?l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{className:"active",href:"#Plastc"},"Plastc")),l.a.createElement("li",null,l.a.createElement("a",{href:"#Tree Fall"},"Tree Fall")),l.a.createElement("li",null,l.a.createElement("a",{href:"#Garbage"},"Garbage ")),l.a.createElement("li",null,l.a.createElement("a",{href:"#Water flood"},"Water flood "))):null)}}]),t}(n.Component),k=a(110),F=a(60),M=a(111),x=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),console.log(e.target.children[0]);var a={username:e.target.children[0].children[0].children[1].value,password:e.target.children[0].children[1].children[1].value};console.log(a),E.a.post("/userauth/login",a).then(function(e){console.log(e);var a=e.data.message;if("LOGIN_SUCCESS"===a){t.props.validateStatus({USER_NOT_FOUND:!1,validated:!0,LOOGEDIN:!0,INCORRECT_USERNAME_OR_PASSWORD:!1}),localStorage.setItem("token",e.data.token),console.log(localStorage);console.log(t.props.history),t.props.history.push("/")}else if("USER_NOT_FOUND"===a){t.props.validateStatus({USER_NOT_FOUND:!0,validated:!1,LOOGEDIN:!1,INCORRECT_USERNAME_OR_PASSWORD:!1})}else if("INCORRECT_USERNAME_OR_PASSWORD"===a){t.props.validateStatus({USER_NOT_FOUND:!1,validated:!1,LOOGEDIN:!1,INCORRECT_USERNAME_OR_PASSWORD:!0})}}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){console.log("hi")}},{key:"render",value:function(){var e=this,t=this.props,a=t.validated,n=t.LOOGEDIN,r=t.INCORRECT_USERNAME_OR_PASSWORD,o=t.USER_NOT_FOUND;return l.a.createElement("div",null,!n&&l.a.createElement(k.a,{noValidate:!0,validated:a,onSubmit:function(t){return e.handleSubmit(t)},className:"LoginForm"},l.a.createElement(k.a.Row,null,l.a.createElement(k.a.Group,{as:F.a,md:"8",controlId:"username"},l.a.createElement(k.a.Label,null,"Username"),l.a.createElement(k.a.Control,{type:"text",placeholder:"User Name"})),l.a.createElement(k.a.Group,{as:F.a,md:"8",controlId:"password"},l.a.createElement(k.a.Label,null,"Password"),l.a.createElement(k.a.Control,{type:"password",placeholder:"Password"}))),r&&l.a.createElement("p",{className:"errorHandler"},"Incorrect Username or Password"),o&&l.a.createElement("p",{className:"errorHandler"},"User not found"),l.a.createElement(M.a,{type:"submit"},"Login")))}}]),t}(n.Component),P={validateStatus:function(e){return{type:"VALIDATE",validate:e}}},G=Object(g.b)(function(e){var t=e.loginReducer,a=t.username,n=t.password,l=t.validated,r=t.LOOGEDIN,o=t.USER_NOT_FOUND,c=t.INCORRECT_USERNAME_OR_PASSWORD;return console.log(e),{username:a,password:n,validated:l,LOOGEDIN:r,USER_NOT_FOUND:o,INCORRECT_USERNAME_OR_PASSWORD:c}},P)(x),W=a(13),V=a.n(W),X=a(32),Y=a.n(X),B=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();var a=e.target.children[0].children[0].children[1].value,n=e.target.children[0].children[1].children[1].value,l=e.target.children[0].children[2].children[1].value,r=e.target.children[0].children[3].children[1].value;if(l.includes(" ")||a.includes(" ")||n.includes(" ")){return this.props.validate({validated:!1,registered:!1,USER_ALREADY_EXISTS:!1,FORM_NOT_FULLFILLED:!1,SPACE_IN_USERNAME:!0}),0}var o=a.split(" "),c=n.split(" "),s=l.split(" "),i=r.split(" ");if(console.log(o),""===o[0]||""===c[0]||""===s[0]||""===i[0])console.log(i),this.props.formNotFullfilled();else{var u={firstname:a,lastname:n,username:l,password:r};E.a.post("/userauth/register",u).then(function(e){console.log(e.data),console.log(a);var a=e.data.message;if("REGISTER_SUCCESS"===a){t.props.registered();t.props.history.push("/login")}else"USER_ALREADY_EXISTS"===a?console.log("user already exists"):"ERR_NO_PASSWORD"===a&&console.log("handle no password error")}).catch(function(e){console.log(e.message)})}}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.props,a=t.validated,n=t.isRegistered,r=t.USER_ALREADY_EXISTS,o=t.FORM_NOT_FULLFILLED,c=t.SPACE_IN_USERNAME;return l.a.createElement("div",null,!n&&l.a.createElement(V.a,{noValidate:!0,validated:a,onSubmit:function(t){return e.handleSubmit(t)},className:"RegisterForm"},l.a.createElement(V.a.Row,null,l.a.createElement(V.a.Group,{as:Y.a,md:"4",controlId:"firstName"},l.a.createElement(V.a.Label,null,"First name"),l.a.createElement(V.a.Control,{required:!0,type:"text",placeholder:"First name",defaultValue:"Mark"}),l.a.createElement(V.a.Control.Feedback,null,"Looks good!")),l.a.createElement(V.a.Group,{as:Y.a,md:"4",controlId:"lastName"},l.a.createElement(V.a.Label,null,"Last name"),l.a.createElement(V.a.Control,{required:!0,type:"text",placeholder:"Last name",defaultValue:"Otto"}),l.a.createElement(V.a.Control.Feedback,null,"Looks good!")),l.a.createElement(V.a.Group,{as:Y.a,md:"8",controlId:"username"},l.a.createElement(V.a.Label,null,"Username"),l.a.createElement(V.a.Control,{type:"text",placeholder:"User Name"}),r&&l.a.createElement("p",{className:"errorHandler"},"User already exists")),l.a.createElement(V.a.Group,{as:Y.a,md:"8",controlId:"password"},l.a.createElement(V.a.Label,null,"Password"),l.a.createElement(V.a.Control,{type:"password",placeholder:"Password"}))),o&&l.a.createElement("p",{className:"errorHandler"},"Please fill out form"),c&&l.a.createElement("p",{className:"errorHandler"},"No spaces are allowed as characters"),l.a.createElement(f.a,{type:"submit"},"Register")))}}]),t}(n.Component),H={validate:function(e){return{type:"REGISTER_VALIDATE",validate:e}},formNotFullfilled:function(){return{type:"FORM_NOT_FULLFILLED"}},registered:function(){return{type:"REGISTERED"}},userAlreadyExists:function(){return{type:"USER_ALREADY_EXISTS"}}},K=Object(g.b)(function(e){var t=e.registerReducer,a=t.username,n=t.password,l=t.validated,r=t.isRegistered,o=t.USER_ALREADY_EXISTS,c=t.FORM_NOT_FULLFILLED,s=t.SPACE_IN_USERNAME;return console.log(e),{username:a,password:n,validated:l,isRegistered:r,USER_ALREADY_EXISTS:o,FORM_NOT_FULLFILLED:c,SPACE_IN_USERNAME:s}},H)(B),q=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(_,null),l.a.createElement(v.c,null,l.a.createElement(v.a,{exact:!0,path:"/home",component:w}),l.a.createElement(v.a,{exact:!0,path:"/news",component:C}),l.a.createElement(v.a,{exact:!0,path:"/aboutUs",component:A}),l.a.createElement(v.a,{exact:!0,path:"/post",component:U}),l.a.createElement(v.a,{exact:!0,path:"/category",component:T}),l.a.createElement(v.a,{exact:!0,path:"/showPostings",component:I}),l.a.createElement(v.a,{exact:!0,path:"/login",component:G}),l.a.createElement(v.a,{exact:!0,path:"/register",component:K}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(34),z=a(29),$={username:"",password:"",validated:!1,LOOGEDIN:!1,USER_NOT_FOUND:!1,INCORRECT_USERNAME_OR_PASSWORD:!1},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VALIDATE":var a=t.validate,n=a.validated,l=a.LOOGEDIN,r=a.USER_NOT_FOUND,o=a.INCORRECT_USERNAME_OR_PASSWORD;return Object(z.a)({},e,{validated:n,LOOGEDIN:l,USER_NOT_FOUND:r,INCORRECT_USERNAME_OR_PASSWORD:o});default:return e}},Z={username:"",password:"",validated:!1,isRegistered:!1,USER_ALREADY_EXISTS:!1,FORM_NOT_FULLFILLED:!1,SPACE_IN_USERNAME:!1},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_VALIDATE":var a=t.validate,n=a.validated,l=a.isRegistered,r=a.USER_ALREADY_EXISTS,o=a.FORM_NOT_FULLFILLED,c=a.SPACE_IN_USERNAME;return Object(z.a)({},e,{validated:n,isRegistered:l,USER_ALREADY_EXISTS:r,FORM_NOT_FULLFILLED:o,SPACE_IN_USERNAME:c});case"FORM_NOT_FULLFILLED":return console.log("form not fullfilled"),Object(z.a)({},e,{FORM_NOT_FULLFILLED:!0});case"REGISTERED":return Object(z.a)({},e,{isRegistered:!0,validated:!0});case"USER_ALREADY_EXISTS":return Object(z.a)({},e,{USER_ALREADY_EXISTS:!0,FORM_NOT_FULLFILLED:!1});default:return e}},te={login:!1,register:!1},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;switch((arguments.length>1?arguments[1]:void 0).type){case"CLICKED_LOGIN":return{login:!0,register:!1};case"CLICKED_REGISTER":return{login:!1,register:!0};default:return e}},ne=Object(J.b)({loginReducer:Q,registerReducer:ee,userauthReducer:ae}),le=Object(J.c)(ne);o.a.render(l.a.createElement(g.a,{store:le},l.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},37:function(e,t,a){e.exports=a.p+"static/media/donkey.920876bf.jpg"},62:function(e,t,a){e.exports=a(108)},67:function(e,t,a){},86:function(e,t,a){}},[[62,1,2]]]);
//# sourceMappingURL=main.1e22e3d2.chunk.js.map